function e(a){throw a;}var k=void 0,l=!0,m=null,p=!1;function aa(a){return function(){return this[a]}}var r,ba=ba||{},s=this;function ca(a){a=a.split(".");for(var b=s,c;c=a.shift();)if(b[c]!=m)b=b[c];else return m;return b}function da(){}
function ea(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function t(a){return a!==k}function v(a){return"array"==ea(a)}function fa(a){var b=ea(a);return"array"==b||"object"==b&&"number"==typeof a.length}function w(a){return"string"==typeof a}function ga(a){return"number"==typeof a}function ha(a){return"function"==ea(a)}function ia(a){var b=typeof a;return"object"==b&&a!=m||"function"==b}function y(a){return a[ja]||(a[ja]=++ka)}
var ja="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),ka=0;function la(a,b,c){return a.call.apply(a.bind,arguments)}function ma(a,b,c){a||e(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function z(a,b,c){z=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?la:ma;return z.apply(m,arguments)}function na(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var oa=Date.now||function(){return+new Date};function A(a,b){function c(){}c.prototype=b.prototype;a.i=b.prototype;a.prototype=new c};function pa(a){Error.captureStackTrace?Error.captureStackTrace(this,pa):this.stack=Error().stack||"";a&&(this.message=String(a))}A(pa,Error);pa.prototype.name="CustomError";function qa(a,b){for(var c=1;c<arguments.length;c++){var d=String(arguments[c]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,d)}return a}function ra(a){if(!sa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(ta,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(ua,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(va,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(wa,"&quot;"));return a}var ta=/&/g,ua=/</g,va=/>/g,wa=/\"/g,sa=/[&<>\"]/;
function B(a,b){var c=t(k)?a.toFixed(k):String(a),d=c.indexOf(".");-1==d&&(d=c.length);d=Math.max(0,b-d);return Array(d+1).join("0")+c}function xa(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})}function ya(a){var b=w(k)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,g){return b+g.toUpperCase()})};function za(a,b){b.unshift(a);pa.call(this,qa.apply(m,b));b.shift();this.Bd=a}A(za,pa);za.prototype.name="AssertionError";function Aa(a,b){e(new za("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1)))};var C=Array.prototype,Ba=C.indexOf?function(a,b,c){return C.indexOf.call(a,b,c)}:function(a,b,c){c=c==m?0:0>c?Math.max(0,a.length+c):c;if(w(a))return!w(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ca=C.forEach?function(a,b,c){C.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,g=w(a)?a.split(""):a,f=0;f<d;f++)f in g&&b.call(c,g[f],f,a)},Da=C.filter?function(a,b,c){return C.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,g=[],f=0,h=w(a)?
a.split(""):a,n=0;n<d;n++)if(n in h){var u=h[n];b.call(c,u,n,a)&&(g[f++]=u)}return g},Ea=C.some?function(a,b,c){return C.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,g=w(a)?a.split(""):a,f=0;f<d;f++)if(f in g&&b.call(c,g[f],f,a))return l;return p};function Fa(a){if(!v(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}function Ga(a){return C.concat.apply(C,arguments)}function Ha(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Ia(a,b,c){return 2>=arguments.length?C.slice.call(a,b):C.slice.call(a,b,c)};var Ja;function Ka(a,b){var c;c=a.className;c=w(c)&&c.match(/\S+/g)||[];for(var d=Ia(arguments,1),g=c.length+d.length,f=c,h=0;h<d.length;h++)0<=Ba(f,d[h])||f.push(d[h]);a.className=c.join(" ");return c.length==g};function La(a,b){for(var c in a)b.call(k,a[c],c,a)}function Ma(a,b){var c={},d;for(d in a)b.call(k,a[d],d,a)&&(c[d]=a[d]);return c}function Na(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Oa(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Pa(a){for(var b in a)return p;return l}var Qa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Ra(a,b){for(var c,d,g=1;g<arguments.length;g++){d=arguments[g];for(c in d)a[c]=d[c];for(var f=0;f<Qa.length;f++)c=Qa[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Ta,Ua,Va,Wa,Xa;function Ya(){return s.navigator?s.navigator.userAgent:m}function Za(){return s.navigator}Wa=Va=Ua=Ta=p;var $a;if($a=Ya()){var ab=Za();Ta=0==$a.indexOf("Opera");Ua=!Ta&&-1!=$a.indexOf("MSIE");Va=!Ta&&-1!=$a.indexOf("WebKit");Wa=!Ta&&!Va&&"Gecko"==ab.product}var bb=Ta,D=Ua,F=Wa,G=Va,cb=Za();Xa=-1!=(cb&&cb.platform||"").indexOf("Mac");var db=!!Za()&&-1!=(Za().appVersion||"").indexOf("X11");function eb(){var a=s.document;return a?a.documentMode:k}var fb;
a:{var gb="",hb;if(bb&&s.opera)var ib=s.opera.version,gb="function"==typeof ib?ib():ib;else if(F?hb=/rv\:([^\);]+)(\)|;)/:D?hb=/MSIE\s+([^\);]+)(\)|;)/:G&&(hb=/WebKit\/(\S+)/),hb)var jb=hb.exec(Ya()),gb=jb?jb[1]:"";if(D){var kb=eb();if(kb>parseFloat(gb)){fb=String(kb);break a}}fb=gb}var lb={};
function H(a){var b;if(!(b=lb[a])){b=0;for(var c=String(fb).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),g=Math.max(c.length,d.length),f=0;0==b&&f<g;f++){var h=c[f]||"",n=d[f]||"",u=RegExp("(\\d*)(\\D*)","g"),q=RegExp("(\\d*)(\\D*)","g");do{var E=u.exec(h)||["","",""],x=q.exec(n)||["","",""];if(0==E[0].length&&0==x[0].length)break;b=((0==E[1].length?0:parseInt(E[1],10))<(0==x[1].length?0:parseInt(x[1],10))?-1:(0==E[1].length?0:parseInt(E[1],
10))>(0==x[1].length?0:parseInt(x[1],10))?1:0)||((0==E[2].length)<(0==x[2].length)?-1:(0==E[2].length)>(0==x[2].length)?1:0)||(E[2]<x[2]?-1:E[2]>x[2]?1:0)}while(0==b)}b=lb[a]=0<=b}return b}var mb=s.document,nb=!mb||!D?k:eb()||("CSS1Compat"==mb.compatMode?parseInt(fb,10):5);function ob(a,b){this.width=a;this.height=b}r=ob.prototype;r.n=function(){return new ob(this.width,this.height)};r.toString=function(){return"("+this.width+" x "+this.height+")"};r.p=function(){return!(this.width*this.height)};function pb(a,b){return a.width<=b.width&&a.height<=b.height}r.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};r.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};var qb=!D||D&&9<=nb,rb=!F&&!D||D&&D&&9<=nb||F&&H("1.9.1");D&&H("9");function sb(a,b){La(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in tb?a.setAttribute(tb[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var tb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function ub(a,b,c){return vb(document,arguments)}function vb(a,b){var c=b[0],d=b[1];if(!qb&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',ra(d.name),'"');if(d.type){c.push(' type="',ra(d.type),'"');var g={};Ra(g,d);delete g.type;d=g}c.push(">");c=c.join("")}c=a.createElement(c);d&&(w(d)?c.className=d:v(d)?Ka.apply(m,[c].concat(d)):sb(c,d));2<b.length&&wb(a,c,b);return c}
function wb(a,b,c){function d(c){c&&b.appendChild(w(c)?a.createTextNode(c):c)}for(var g=2;g<c.length;g++){var f=c[g];fa(f)&&!(ia(f)&&0<f.nodeType)?Ca(xb(f)?Ha(f):f,d):d(f)}}function yb(a){for(var b;b=a.firstChild;)a.removeChild(b)}function zb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}function xb(a){if(a&&"number"==typeof a.length){if(ia(a))return"function"==typeof a.item||"string"==typeof a.item;if(ha(a))return"function"==typeof a.item}return p}
function Ab(a){this.za=a||s.document||document}r=Ab.prototype;r.bc=sb;r.Hc=function(a,b,c){return vb(this.za,arguments)};r.createElement=function(a){return this.za.createElement(a)};r.createTextNode=function(a){return this.za.createTextNode(a)};r.appendChild=function(a,b){a.appendChild(b)};r.Kb=function(a){return rb&&a.children!=k?a.children:Da(a.childNodes,function(a){return 1==a.nodeType})};function Bb(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}Bb.prototype.n=function(){return new Bb(this.top,this.right,this.bottom,this.left)};Bb.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};function I(a,b,c){w(b)?Cb(a,c,b):La(b,na(Cb,a))}function Cb(a,b,c){var d;a:if(d=xa(c),a.style[d]===k&&(c=(G?"Webkit":F?"Moz":D?"ms":bb?"O":m)+ya(c),a.style[c]!==k)){d=c;break a}d&&(a.style[d]=b)}function J(a,b){var c=zb(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,m))?c[b]||c.getPropertyValue(b)||"":""}function Db(a,b,c){b instanceof ob?(c=b.height,b=b.width):c==k&&e(Error("missing height argument"));a.style.width=Eb(b,l);a.style.height=Eb(c,l)}
function Eb(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}function Fb(a){if("none"!=(J(a,"display")||(a.currentStyle?a.currentStyle.display:m)||a.style&&a.style.display))return Gb(a);var b=a.style,c=b.display,d=b.visibility,g=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=Gb(a);b.display=c;b.position=g;b.visibility=d;return a}
function Gb(a){var b=a.offsetWidth,c=a.offsetHeight,d=G&&!b&&!c;return(!t(b)||d)&&a.getBoundingClientRect?(b=a.getBoundingClientRect(),D&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop),new ob(b.right-b.left,b.bottom-b.top)):new ob(b,c)}
function Hb(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var g=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return g}function Ib(a,b){var c=a.currentStyle?a.currentStyle[b]:m;return c?Hb(a,c):0}var Jb={thin:2,medium:4,thick:6};function Kb(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:m))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:m;return c in Jb?Jb[c]:Hb(a,c)}
function Lb(a){var b={};Ca(a.split(/\s*;\s*/),function(a){a=a.split(/\s*:\s*/);2==a.length&&(b[xa(a[0].toLowerCase())]=a[1])});return b};var Mb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function Nb(a){if("function"==typeof a.l)return a.l();if(w(a))return a.split("");if(fa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Na(a)}function Ob(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(fa(a)||w(a))Ca(a,b,c);else{var d;if("function"==typeof a.L)d=a.L();else if("function"!=typeof a.l)if(fa(a)||w(a)){d=[];for(var g=a.length,f=0;f<g;f++)d.push(f)}else d=Oa(a);else d=k;for(var g=Nb(a),f=g.length,h=0;h<f;h++)b.call(c,g[h],d&&d[h],a)}};function Pb(a,b){this.k={};this.h=[];var c=arguments.length;if(1<c){c%2&&e(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.ab(a)}r=Pb.prototype;r.c=0;r.vb=0;r.j=aa("c");r.l=function(){Qb(this);for(var a=[],b=0;b<this.h.length;b++)a.push(this.k[this.h[b]]);return a};r.L=function(){Qb(this);return this.h.concat()};r.S=function(a){return Rb(this.k,a)};r.p=function(){return 0==this.c};
r.clear=function(){this.k={};this.vb=this.c=this.h.length=0};r.remove=function(a){return Rb(this.k,a)?(delete this.k[a],this.c--,this.vb++,this.h.length>2*this.c&&Qb(this),l):p};function Qb(a){if(a.c!=a.h.length){for(var b=0,c=0;b<a.h.length;){var d=a.h[b];Rb(a.k,d)&&(a.h[c++]=d);b++}a.h.length=c}if(a.c!=a.h.length){for(var g={},c=b=0;b<a.h.length;)d=a.h[b],Rb(g,d)||(a.h[c++]=d,g[d]=1),b++;a.h.length=c}}r.get=function(a,b){return Rb(this.k,a)?this.k[a]:b};
r.set=function(a,b){Rb(this.k,a)||(this.c++,this.h.push(a),this.vb++);this.k[a]=b};r.ab=function(a){var b;a instanceof Pb?(b=a.L(),a=a.l()):(b=Oa(a),a=Na(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};r.n=function(){return new Pb(this)};function Rb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function Sb(a,b){var c;if(a instanceof Sb)this.o=t(b)?b:a.o,Tb(this,a.ha),c=a.Wa,L(this),this.Wa=c,c=a.ma,L(this),this.ma=c,Ub(this,a.Oa),c=a.fa,L(this),this.fa=c,Vb(this,a.u.n()),c=a.Ca,L(this),this.Ca=c;else if(a&&(c=String(a).match(Mb))){this.o=!!b;Tb(this,c[1]||"",l);var d=c[2]||"";L(this);this.Wa=d?decodeURIComponent(d):"";d=c[3]||"";L(this);this.ma=d?decodeURIComponent(d):"";Ub(this,c[4]);d=c[5]||"";L(this);this.fa=d?decodeURIComponent(d):"";Vb(this,c[6]||"",l);c=c[7]||"";L(this);this.Ca=c?
decodeURIComponent(c):""}else this.o=!!b,this.u=new Wb(m,0,this.o)}r=Sb.prototype;r.ha="";r.Wa="";r.ma="";r.Oa=m;r.fa="";r.Ca="";r.Vc=p;r.o=p;
r.toString=function(){var a=[],b=this.ha;b&&a.push(Xb(b,Yb),":");if(b=this.ma){a.push("//");var c=this.Wa;c&&a.push(Xb(c,Yb),"@");a.push(encodeURIComponent(String(b)));b=this.Oa;b!=m&&a.push(":",String(b))}if(b=this.fa)this.ma&&"/"!=b.charAt(0)&&a.push("/"),a.push(Xb(b,"/"==b.charAt(0)?Zb:$b));(b=this.u.toString())&&a.push("?",b);(b=this.Ca)&&a.push("#",Xb(b,ac));return a.join("")};r.n=function(){return new Sb(this)};
function Tb(a,b,c){L(a);a.ha=c?b?decodeURIComponent(b):"":b;a.ha&&(a.ha=a.ha.replace(/:$/,""))}function Ub(a,b){L(a);b?(b=Number(b),(isNaN(b)||0>b)&&e(Error("Bad port number "+b)),a.Oa=b):a.Oa=m}function Vb(a,b,c){L(a);b instanceof Wb?(a.u=b,a.u.tb(a.o)):(c||(b=Xb(b,bc)),a.u=new Wb(b,0,a.o))}function L(a){a.Vc&&e(Error("Tried to modify a read-only Uri"))}r.tb=function(a){this.o=a;this.u&&this.u.tb(a);return this};function Xb(a,b){return w(a)?encodeURI(a).replace(b,cc):m}
function cc(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Yb=/[#\/\?@]/g,$b=/[\#\?:]/g,Zb=/[\#\?]/g,bc=/[\#\?@]/g,ac=/#/g;function Wb(a,b,c){this.m=a||m;this.o=!!c}function M(a){if(!a.g&&(a.g=new Pb,a.c=0,a.m))for(var b=a.m.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),g=m,f=m;0<=d?(g=b[c].substring(0,d),f=b[c].substring(d+1)):g=b[c];g=decodeURIComponent(g.replace(/\+/g," "));g=dc(a,g);a.add(g,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}r=Wb.prototype;
r.g=m;r.c=m;r.j=function(){M(this);return this.c};r.add=function(a,b){M(this);this.m=m;a=dc(this,a);var c=this.g.get(a);c||this.g.set(a,c=[]);c.push(b);this.c++;return this};r.remove=function(a){M(this);a=dc(this,a);return this.g.S(a)?(this.m=m,this.c-=this.g.get(a).length,this.g.remove(a)):p};r.clear=function(){this.g=this.m=m;this.c=0};r.p=function(){M(this);return 0==this.c};r.S=function(a){M(this);a=dc(this,a);return this.g.S(a)};
r.L=function(){M(this);for(var a=this.g.l(),b=this.g.L(),c=[],d=0;d<b.length;d++)for(var g=a[d],f=0;f<g.length;f++)c.push(b[d]);return c};r.l=function(a){M(this);var b=[];if(a)this.S(a)&&(b=Ga(b,this.g.get(dc(this,a))));else{a=this.g.l();for(var c=0;c<a.length;c++)b=Ga(b,a[c])}return b};r.set=function(a,b){M(this);this.m=m;a=dc(this,a);this.S(a)&&(this.c-=this.g.get(a).length);this.g.set(a,[b]);this.c++;return this};r.get=function(a,b){var c=a?this.l(a):[];return 0<c.length?String(c[0]):b};
r.toString=function(){if(this.m)return this.m;if(!this.g)return"";for(var a=[],b=this.g.L(),c=0;c<b.length;c++)for(var d=b[c],g=encodeURIComponent(String(d)),d=this.l(d),f=0;f<d.length;f++){var h=g;""!==d[f]&&(h+="="+encodeURIComponent(String(d[f])));a.push(h)}return this.m=a.join("&")};r.n=function(){var a=new Wb;a.m=this.m;this.g&&(a.g=this.g.n(),a.c=this.c);return a};function dc(a,b){var c=String(b);a.o&&(c=c.toLowerCase());return c}
r.tb=function(a){a&&!this.o&&(M(this),this.m=m,Ob(this.g,function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.remove(d),0<a.length&&(this.m=m,this.g.set(dc(this,d),Ha(a)),this.c+=a.length))},this));this.o=a};function ec(a){this.k=new Pb;a&&this.ab(a)}function fc(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+y(a):b.substr(0,1)+a}r=ec.prototype;r.j=function(){return this.k.j()};r.add=function(a){this.k.set(fc(a),a)};r.ab=function(a){a=Nb(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};r.$b=function(a){a=Nb(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};r.remove=function(a){return this.k.remove(fc(a))};r.clear=function(){this.k.clear()};r.p=function(){return this.k.p()};r.l=function(){return this.k.l()};
r.n=function(){return new ec(this)};function gc(a){return hc(a||arguments.callee.caller,[])}
function hc(a,b){var c=[];if(0<=Ba(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(ic(a)+"(");for(var d=a.arguments,g=0;g<d.length;g++){0<g&&c.push(", ");var f;f=d[g];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=ic(f))?f:"[fn]";break;default:f=typeof f}40<f.length&&(f=f.substr(0,40)+"...");c.push(f)}b.push(a);c.push(")\n");try{c.push(hc(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function ic(a){if(jc[a])return jc[a];a=String(a);if(!jc[a]){var b=/function ([^\(]+)/.exec(a);jc[a]=b?b[1]:"[Anonymous]"}return jc[a]}var jc={};function kc(a,b,c,d,g){this.reset(a,b,c,d,g)}kc.prototype.gd=0;kc.prototype.Ib=m;kc.prototype.Hb=m;var lc=0;kc.prototype.reset=function(a,b,c,d,g){this.gd="number"==typeof g?g:lc++;this.Ed=d||oa();this.ra=a;this.$c=b;this.Ad=c;delete this.Ib;delete this.Hb};kc.prototype.ac=function(a){this.ra=a};function mc(a){this.ad=a}mc.prototype.P=m;mc.prototype.ra=m;mc.prototype.cb=m;mc.prototype.Lb=m;function nc(a,b){this.name=a;this.value=b}nc.prototype.toString=aa("name");var oc=new nc("SEVERE",1E3),pc=new nc("WARNING",900),qc=new nc("INFO",800),rc=new nc("CONFIG",700),sc=new nc("FINE",500);r=mc.prototype;r.getParent=aa("P");r.Kb=function(){this.cb||(this.cb={});return this.cb};r.ac=function(a){this.ra=a};
function tc(a){if(a.ra)return a.ra;if(a.P)return tc(a.P);Aa("Root logger has no level set.");return m}r.log=function(a,b,c){if(a.value>=tc(this).value){a=this.Pc(a,b,c);b="log:"+a.$c;s.console&&(s.console.timeStamp?s.console.timeStamp(b):s.console.markTimeline&&s.console.markTimeline(b));s.msWriteProfilerMark&&s.msWriteProfilerMark(b);for(b=this;b;){c=b;var d=a;if(c.Lb)for(var g=0,f=k;f=c.Lb[g];g++)f(d);b=b.getParent()}}};
r.Pc=function(a,b,c){var d=new kc(a,String(b),this.ad);if(c){d.Ib=c;var g;var f=arguments.callee.caller;try{var h;var n=ca("window.location.href");if(w(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:n,stack:"Not available"};else{var u,q,E=p;try{u=c.lineNumber||c.zd||"Not available"}catch(x){u="Not available",E=l}try{q=c.fileName||c.filename||c.sourceURL||n}catch(Sa){q="Not available",E=l}h=E||!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,lineNumber:u,
fileName:q,stack:c.stack||"Not available"}:c}g="Message: "+ra(h.message)+'\nUrl: <a href="view-source:'+h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+ra(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+ra(gc(f)+"-> ")}catch(K){g="Exception trying to expose exception! You win, we lose. "+K}d.Hb=g}return d};r.info=function(a,b){this.log(qc,a,b)};function N(a,b){a.log(sc,b,k)}var uc={},vc=m;
function wc(a){vc||(vc=new mc(""),uc[""]=vc,vc.ac(rc));var b;if(!(b=uc[a])){b=new mc(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=wc(a.substr(0,c));c.Kb()[d]=b;b.P=c;uc[a]=b}return b};function xc(){}var yc=0;r=xc.prototype;r.key=0;r.X=p;r.ya=p;r.Ha=function(a,b,c,d,g,f){ha(a)?this.Ob=l:a&&a.handleEvent&&ha(a.handleEvent)?this.Ob=p:e(Error("Invalid listener argument"));this.ca=a;this.Zb=b;this.src=c;this.type=d;this.capture=!!g;this.Fa=f;this.ya=p;this.key=++yc;this.X=p};r.handleEvent=function(a){return this.Ob?this.ca.call(this.Fa||this.src,a):this.ca.handleEvent.call(this.ca,a)};var zc=!D||D&&9<=nb,Ac=D&&!H("9");!G||H("528");F&&H("1.9b")||D&&H("8")||bb&&H("9.5")||G&&H("528");F&&!H("8")||D&&H("9");function O(){0!=Bc&&(this.wd=Error().stack,Cc[y(this)]=this)}var Bc=0,Cc={};O.prototype.la=p;O.prototype.J=function(){if(!this.la&&(this.la=l,this.f(),0!=Bc)){var a=y(this);delete Cc[a]}};O.prototype.f=function(){this.Kc&&Dc.apply(m,this.Kc);if(this.Ub)for(;this.Ub.length;)this.Ub.shift()()};function Ec(a){a&&"function"==typeof a.J&&a.J()}function Dc(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];fa(d)?Dc.apply(m,d):Ec(d)}};function P(a,b){this.type=a;this.currentTarget=this.target=b}r=P.prototype;r.f=function(){};r.J=function(){};r.ga=p;r.defaultPrevented=p;r.Qa=l;r.preventDefault=function(){this.defaultPrevented=l;this.Qa=p};function Fc(a){Fc[" "](a);return a}Fc[" "]=da;function Gc(a,b){a&&this.Ha(a,b)}A(Gc,P);r=Gc.prototype;r.target=m;r.relatedTarget=m;r.offsetX=0;r.offsetY=0;r.clientX=0;r.clientY=0;r.screenX=0;r.screenY=0;r.button=0;r.keyCode=0;r.charCode=0;r.ctrlKey=p;r.altKey=p;r.shiftKey=p;r.metaKey=p;r.cd=p;r.Gb=m;
r.Ha=function(a,b){var c=this.type=a.type;P.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(F){var g;a:{try{Fc(d.nodeName);g=l;break a}catch(f){}g=p}g||(d=m)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=G||a.offsetX!==k?a.offsetX:a.layerX;this.offsetY=G||a.offsetY!==k?a.offsetY:a.layerY;this.clientX=a.clientX!==k?a.clientX:a.pageX;this.clientY=a.clientY!==k?a.clientY:a.pageY;this.screenX=a.screenX||
0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.cd=Xa?a.metaKey:a.ctrlKey;this.state=a.state;this.Gb=a;a.defaultPrevented&&this.preventDefault();delete this.ga};
r.preventDefault=function(){Gc.i.preventDefault.call(this);var a=this.Gb;if(a.preventDefault)a.preventDefault();else if(a.returnValue=p,Ac)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};r.f=function(){};var Hc={},Q={},R={},Ic={};function S(a,b,c,d,g){if(v(b)){for(var f=0;f<b.length;f++)S(a,b[f],c,d,g);return m}return Jc(a,b,c,p,d,g)}
function Jc(a,b,c,d,g,f){b||e(Error("Invalid event type"));g=!!g;var h=Q;b in h||(h[b]={c:0,s:0});h=h[b];g in h||(h[g]={c:0,s:0},h.c++);var h=h[g],n=y(a),u;h.s++;if(h[n]){u=h[n];for(var q=0;q<u.length;q++)if(h=u[q],h.ca==c&&h.Fa==f){if(h.X)break;d||(u[q].ya=p);return u[q].key}}else u=h[n]=[],h.c++;q=Kc();q.src=a;h=new xc;h.Ha(c,q,a,b,g,f);h.ya=d;c=h.key;q.key=c;u.push(h);Hc[c]=h;R[n]||(R[n]=[]);R[n].push(h);a.addEventListener?(a==s||!a.Eb)&&a.addEventListener(b,q,g):a.attachEvent(b in Ic?Ic[b]:Ic[b]=
"on"+b,q);return c}function Kc(){var a=Lc,b=zc?function(c){return a.call(b.src,b.key,c)}:function(c){c=a.call(b.src,b.key,c);if(!c)return c};return b}function Mc(a,b,c,d,g){if(v(b))for(var f=0;f<b.length;f++)Mc(a,b[f],c,d,g);else Jc(a,b,c,l,d,g)}function Nc(a,b,c,d,g){if(v(b))for(var f=0;f<b.length;f++)Nc(a,b[f],c,d,g);else if(d=!!d,a=Oc(a,b,d))for(f=0;f<a.length;f++)if(a[f].ca==c&&a[f].capture==d&&a[f].Fa==g){Pc(a[f].key);break}}
function Pc(a){if(!Hc[a])return p;var b=Hc[a];if(b.X)return p;var c=b.src,d=b.type,g=b.Zb,f=b.capture;c.removeEventListener?(c==s||!c.Eb)&&c.removeEventListener(d,g,f):c.detachEvent&&c.detachEvent(d in Ic?Ic[d]:Ic[d]="on"+d,g);c=y(c);if(R[c]){var g=R[c],h=Ba(g,b);0<=h&&C.splice.call(g,h,1);0==g.length&&delete R[c]}b.X=l;if(b=Q[d][f][c])b.Tb=l,Qc(d,f,c,b);delete Hc[a];return l}
function Qc(a,b,c,d){if(!d.Ka&&d.Tb){for(var g=0,f=0;g<d.length;g++)d[g].X?d[g].Zb.src=m:(g!=f&&(d[f]=d[g]),f++);d.length=f;d.Tb=p;0==f&&(delete Q[a][b][c],Q[a][b].c--,0==Q[a][b].c&&(delete Q[a][b],Q[a].c--),0==Q[a].c&&delete Q[a])}}function Rc(a){var b,c=0,d=b==m;b=!!b;if(a==m)La(R,function(a){for(var f=a.length-1;0<=f;f--){var g=a[f];if(d||b==g.capture)Pc(g.key),c++}});else if(a=y(a),R[a]){a=R[a];for(var g=a.length-1;0<=g;g--){var f=a[g];if(d||b==f.capture)Pc(f.key),c++}}}
function Oc(a,b,c){var d=Q;return b in d&&(d=d[b],c in d&&(d=d[c],a=y(a),d[a]))?d[a]:m}function Sc(a,b,c,d,g){var f=1;b=y(b);if(a[b]){a.s--;a=a[b];a.Ka?a.Ka++:a.Ka=1;try{for(var h=a.length,n=0;n<h;n++){var u=a[n];u&&!u.X&&(f&=Tc(u,g)!==p)}}finally{a.Ka--,Qc(c,d,b,a)}}return Boolean(f)}function Tc(a,b){a.ya&&Pc(a.key);return a.handleEvent(b)}
function Lc(a,b){if(!Hc[a])return l;var c=Hc[a],d=c.type,g=Q;if(!(d in g))return l;var g=g[d],f,h;if(!zc){f=b||ca("window.event");var n=l in g,u=p in g;if(n){if(0>f.keyCode||f.returnValue!=k)return l;a:{var q=p;if(0==f.keyCode)try{f.keyCode=-1;break a}catch(E){q=l}if(q||f.returnValue==k)f.returnValue=l}}q=new Gc;q.Ha(f,this);f=l;try{if(n){for(var x=[],Sa=q.currentTarget;Sa;Sa=Sa.parentNode)x.push(Sa);h=g[l];h.s=h.c;for(var K=x.length-1;!q.ga&&0<=K&&h.s;K--)q.currentTarget=x[K],f&=Sc(h,x[K],d,l,q);
if(u){h=g[p];h.s=h.c;for(K=0;!q.ga&&K<x.length&&h.s;K++)q.currentTarget=x[K],f&=Sc(h,x[K],d,p,q)}}else f=Tc(c,q)}finally{x&&(x.length=0)}return f}d=new Gc(b,this);return f=Tc(c,d)}var Uc=0;var T={};var U={jc:["BC","AD"],ic:["Before Christ","Anno Domini"],nc:"JFMAMJJASOND".split(""),tc:"JFMAMJJASOND".split(""),mc:"January February March April May June July August September October November December".split(" "),sc:"January February March April May June July August September October November December".split(" "),pc:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),vc:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),yc:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
xc:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),rc:"Sun Mon Tue Wed Thu Fri Sat".split(" "),wc:"Sun Mon Tue Wed Thu Fri Sat".split(" "),td:"SMTWTFS".split(""),uc:"SMTWTFS".split(""),qc:["Q1","Q2","Q3","Q4"],oc:["1st quarter","2nd quarter","3rd quarter","4th quarter"],hc:["AM","PM"],wb:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],xb:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],kc:6,ud:[5,6],lc:5};function Vc(a,b,c){ga(a)?(this.a=new Date(a,b||0,c||1),Wc(this,c||1)):ia(a)?(this.a=new Date(a.getFullYear(),a.getMonth(),a.getDate()),Wc(this,a.getDate())):(this.a=new Date(oa()),this.a.setHours(0),this.a.setMinutes(0),this.a.setSeconds(0),this.a.setMilliseconds(0))}r=Vc.prototype;r.Aa=U.kc;r.Ba=U.lc;r.n=function(){var a=new Vc(this.a);a.Aa=this.Aa;a.Ba=this.Ba;return a};r.getFullYear=function(){return this.a.getFullYear()};r.getYear=function(){return this.getFullYear()};r.getMonth=function(){return this.a.getMonth()};
r.getDate=function(){return this.a.getDate()};r.getTime=function(){return this.a.getTime()};r.getDay=function(){return this.a.getDay()};r.getUTCFullYear=function(){return this.a.getUTCFullYear()};r.getUTCMonth=function(){return this.a.getUTCMonth()};r.getUTCDate=function(){return this.a.getUTCDate()};r.getUTCHours=function(){return this.a.getUTCHours()};r.getUTCMinutes=function(){return this.a.getUTCMinutes()};r.getTimezoneOffset=function(){return this.a.getTimezoneOffset()};
function Xc(a){a=a.getTimezoneOffset();if(0==a)a="Z";else{var b=Math.abs(a)/60,c=Math.floor(b),b=60*(b-c);a=(0<a?"-":"+")+B(c,2)+":"+B(b,2)}return a}r.set=function(a){this.a=new Date(a.getFullYear(),a.getMonth(),a.getDate())};r.setFullYear=function(a){this.a.setFullYear(a)};r.setMonth=function(a){this.a.setMonth(a)};r.setDate=function(a){this.a.setDate(a)};
r.add=function(a){if(a.sd||a.Zc){var b=this.getMonth()+a.Zc+12*a.sd,c=this.getYear()+Math.floor(b/12),b=b%12;0>b&&(b+=12);var d;a:{switch(b){case 1:d=0==c%4&&(0!=c%100||0==c%400)?29:28;break a;case 5:case 8:case 10:case 3:d=30;break a}d=31}d=Math.min(d,this.getDate());this.setDate(1);this.setFullYear(c);this.setMonth(b);this.setDate(d)}a.Ic&&(a=new Date((new Date(this.getYear(),this.getMonth(),this.getDate(),12)).getTime()+864E5*a.Ic),this.setDate(1),this.setFullYear(a.getFullYear()),this.setMonth(a.getMonth()),
this.setDate(a.getDate()),Wc(this,a.getDate()))};r.Ta=function(a,b){return[this.getFullYear(),B(this.getMonth()+1,2),B(this.getDate(),2)].join(a?"-":"")+(b?Xc(this):"")};r.toString=function(){return this.Ta()};function Wc(a,b){a.getDate()!=b&&a.a.setUTCHours(a.a.getUTCHours()+(a.getDate()<b?1:-1))}r.valueOf=function(){return this.a.valueOf()};function Yc(a,b,c,d,g,f,h){this.a=ga(a)?new Date(a,b||0,c||1,d||0,g||0,f||0,h||0):new Date(a?a.getTime():oa())}A(Yc,Vc);r=Yc.prototype;r.getHours=function(){return this.a.getHours()};
r.getMinutes=function(){return this.a.getMinutes()};r.getSeconds=function(){return this.a.getSeconds()};r.getMilliseconds=function(){return this.a.getMilliseconds()};r.getUTCHours=function(){return this.a.getUTCHours()};r.getUTCMinutes=function(){return this.a.getUTCMinutes()};r.setHours=function(a){this.a.setHours(a)};r.setMinutes=function(a){this.a.setMinutes(a)};r.setSeconds=function(a){this.a.setSeconds(a)};r.setMilliseconds=function(a){this.a.setMilliseconds(a)};r.setUTCHours=function(a){this.a.setUTCHours(a)};
r.add=function(a){Vc.prototype.add.call(this,a);a.Sc&&this.setHours(this.a.getHours()+a.Sc);a.Yc&&this.setMinutes(this.a.getMinutes()+a.Yc);a.fd&&this.setSeconds(this.a.getSeconds()+a.fd)};r.Ta=function(a,b){var c=Vc.prototype.Ta.call(this,a);return a?c+" "+B(this.getHours(),2)+":"+B(this.getMinutes(),2)+":"+B(this.getSeconds(),2)+(b?Xc(this):""):c+"T"+B(this.getHours(),2)+B(this.getMinutes(),2)+B(this.getSeconds(),2)+(b?Xc(this):"")};r.toString=function(){return this.Ta()};
r.n=function(){var a=new Yc(this.a);a.Aa=this.Aa;a.Ba=this.Ba;return a};function V(){O.call(this)}A(V,O);r=V.prototype;r.Eb=l;r.sb=m;r.addEventListener=function(a,b,c,d){S(this,a,b,c,d)};r.removeEventListener=function(a,b,c,d){Nc(this,a,b,c,d)};
r.dispatchEvent=function(a){var b=a.type||a,c=Q;if(b in c){if(w(a))a=new P(a,this);else if(a instanceof P)a.target=a.target||this;else{var d=a;a=new P(b,this);Ra(a,d)}var d=1,g,c=c[b],b=l in c,f;if(b){g=[];for(f=this;f;f=f.sb)g.push(f);f=c[l];f.s=f.c;for(var h=g.length-1;!a.ga&&0<=h&&f.s;h--)a.currentTarget=g[h],d&=Sc(f,g[h],a.type,l,a)&&a.Qa!=p}if(p in c)if(f=c[p],f.s=f.c,b)for(h=0;!a.ga&&h<g.length&&f.s;h++)a.currentTarget=g[h],d&=Sc(f,g[h],a.type,p,a)&&a.Qa!=p;else for(g=this;!a.ga&&g&&f.s;g=g.sb)a.currentTarget=
g,d&=Sc(f,g,a.type,p,a)&&a.Qa!=p;a=Boolean(d)}else a=l;return a};r.f=function(){V.i.f.call(this);Rc(this);this.sb=m};var Zc=s.window;function $c(a,b,c){O.call(this);this.ob=a;this.Uc=b||0;this.F=c;this.Cc=z(this.Lc,this)}A($c,O);r=$c.prototype;r.oa=0;r.f=function(){$c.i.f.call(this);this.stop();delete this.ob;delete this.F};r.start=function(a){this.stop();var b=this.Cc;a=t(a)?a:this.Uc;ha(b)||(b&&"function"==typeof b.handleEvent?b=z(b.handleEvent,b):e(Error("Invalid listener argument")));this.oa=2147483647<a?-1:Zc.setTimeout(b,a||0)};r.stop=function(){this.Ia()&&Zc.clearTimeout(this.oa);this.oa=0};r.Ia=function(){return 0!=this.oa};
r.Lc=function(){this.oa=0;this.ob&&this.ob.call(this.F)};function W(a){O.call(this);a=a||{};this.id=a.id||m;this.duration=a.duration||10;this.b=ub("div")}A(W,V);r=W.prototype;r.d=wc("concerto.frontend.Content");function ad(a){a.d.info("Content "+a.id+" is starting to load.");a.jd=new Yc;a.md=new $c(a.Oc,1E3*a.duration,a);S(a,bd,a.hd,p,a);a.dispatchEvent(cd);a.da()}r.bb=function(a){I(this.b,a)};r.da=function(){dd(this)};
function dd(a){a.Nc=new Yc;a.d.info("Content "+a.id+" is done loading. Took: "+(a.Nc.getMilliseconds()-a.jd.getMilliseconds())+"ms.");a.dispatchEvent(ed)}r.hd=function(){this.md.start()};r.Oc=function(){this.dispatchEvent(fd)};var cd="start_load_"+Uc++,ed="finish_load_"+Uc++,gd="start_render_"+Uc++,bd="complete_render_"+Uc++,hd="stop_render_"+Uc++,id="finish_render_"+Uc++,fd="display_end_"+Uc++;function jd(a,b,c){b=new ob(b,c);c=100;var d=a.cloneNode(l);d.style.display="none";document.body.appendChild(d);for(I(d,"fontSize",c+"px");1<c&&!pb(Fb(d),b);)I(d,"fontSize",--c+"px");document.body.removeChild(d);delete d;I(a,"fontSize",c+"px");return a};function kd(a){W.call(this,a);this.text=a.render_details.data;this.B=a.field.size.height;this.C=a.field.size.width}A(kd,W);T.Ticker=kd;
kd.prototype.da=function(){yb(this.b);var a;var b="<div>"+this.text+"</div>",c=document;a=c.createElement("div");D?(a.innerHTML="<br>"+b,a.removeChild(a.firstChild)):a.innerHTML=b;if(1==a.childNodes.length)a=a.removeChild(a.firstChild);else{for(b=c.createDocumentFragment();a.firstChild;)b.appendChild(a.firstChild);a=b}this.b.appendChild(a);this.b=jd(this.b,this.C,this.B);console.log(this.b);dd(this)};function ld(a){W.call(this,a);this.B=a.field.size.height;this.C=a.field.size.width;this.Tc=a.render_details.data}A(ld,W);T.HtmlText=ld;ld.prototype.da=function(){this.b.innerHTML=this.Tc;this.b=jd(this.b,this.C,this.B);dd(this)};function md(a){O.call(this);this.F=a;this.h=[]}A(md,O);var nd=[];function od(a,b,c,d){v(c)||(nd[0]=c,c=nd);for(var g=0;g<c.length;g++){var f=S(b,c[g],d||a,p,a.F||a);a.h.push(f)}}function pd(a,b,c,d,g,f){if(v(c))for(var h=0;h<c.length;h++)pd(a,b,c[h],d,g,f);else{a:{d=d||a;f=f||a.F||a;g=!!g;if(b=Oc(b,c,g))for(c=0;c<b.length;c++)if(!b[c].X&&b[c].ca==d&&b[c].capture==g&&b[c].Fa==f){b=b[c];break a}b=m}b&&(b=b.key,Pc(b),a=a.h,b=Ba(a,b),0<=b&&C.splice.call(a,b,1))}}
md.prototype.$b=function(){Ca(this.h,Pc);this.h.length=0};md.prototype.f=function(){md.i.f.call(this);this.$b()};md.prototype.handleEvent=function(){e(Error("EventHandler.handleEvent not implemented"))};function qd(a){O.call(this);this.qa={};this.pa={};this.F=new md(this);this.P=a}A(qd,V);var rd=[D?"readystatechange":"load","abort","error"];qd.prototype.start=function(){var a=this.qa;Ca(Oa(a),function(b){var c=a[b];if(c&&(delete a[b],!this.la)){var d;d=this.P?(this.P?new Ab(zb(this.P)):Ja||(Ja=new Ab)).Hc("img"):new Image;od(this.F,d,rd,this.Vb);this.pa[b]=d;d.id=b;d.src=c}},this)};
qd.prototype.Vb=function(a){var b=a.currentTarget;if(b){if("readystatechange"==a.type)if("complete"==b.readyState)a.type="load";else return;"undefined"==typeof b.naturalWidth&&("load"==a.type?(b.naturalWidth=b.width,b.naturalHeight=b.height):(b.naturalWidth=0,b.naturalHeight=0));this.dispatchEvent({type:a.type,target:b});if(!this.la&&(a=b.id,delete this.qa[a],b=this.pa[a]))delete this.pa[a],pd(this.F,b,rd,this.Vb),Pa(this.pa)&&Pa(this.qa)&&this.dispatchEvent("complete")}};
qd.prototype.f=function(){delete this.qa;delete this.pa;Ec(this.F);qd.i.f.call(this)};function sd(a){W.call(this,a);this.pb=new qd;S(this.pb,"load",this.Wc,p,this);this.B=a.field.size.height;this.C=a.field.size.width;this.U=m;a=new Sb(a.render_details.path);var b=this.B;L(a);a.u.set("height",b);b=this.C;L(a);a.u.set("width",b);a=a.toString();(a=w(a)?a:a.src)&&(this.pb.qa.graphic=a)}A(sd,W);T.Graphic=sd;sd.prototype.da=function(){this.pb.start()};
sd.prototype.Wc=function(a){this.U=a.target;this.b.appendChild(this.U);I(this.b,"margin",(this.B-this.U.height)/2+"px "+(this.C-this.U.width)/2+"px");Db(this.U,"100%","100%");dd(this)};
sd.prototype.bb=function(a){sd.i.bb.call(this,a);var b=this.b;a=this.U.width;var c=this.U.height,d;d="CSS1Compat"==(zb(b)?new Ab(zb(zb(b))):Ja||(Ja=new Ab)).za.compatMode;if(D&&(!d||!H("8"))){var g=b.style;if(d){if(D){d=Ib(b,"paddingLeft");var f=Ib(b,"paddingRight"),h=Ib(b,"paddingTop"),n=Ib(b,"paddingBottom");d=new Bb(h,f,n,d)}else d=J(b,"paddingLeft"),f=J(b,"paddingRight"),h=J(b,"paddingTop"),n=J(b,"paddingBottom"),d=new Bb(parseFloat(h),parseFloat(f),parseFloat(n),parseFloat(d));D?(f=Kb(b,"borderLeft"),
h=Kb(b,"borderRight"),n=Kb(b,"borderTop"),b=Kb(b,"borderBottom"),b=new Bb(n,h,b,f)):(f=J(b,"borderLeftWidth"),h=J(b,"borderRightWidth"),n=J(b,"borderTopWidth"),b=J(b,"borderBottomWidth"),b=new Bb(parseFloat(n),parseFloat(h),parseFloat(b),parseFloat(f)));g.pixelWidth=a-b.left-d.left-d.right-b.right;g.pixelHeight=c-b.top-d.top-d.bottom-b.bottom}else g.pixelWidth=a,g.pixelHeight=c}else g=b.style,F?g.MozBoxSizing="border-box":G?g.WebkitBoxSizing="border-box":g.boxSizing="border-box",g.width=Math.max(a,
0)+"px",g.height=Math.max(c,0)+"px"};function td(){}function ud(a){if("number"==typeof a){var b=new td;b.Ra=a;var c;c=a;if(0==c)c="Etc/GMT";else{var d=["Etc/GMT",0>c?"-":"+"];c=Math.abs(c);d.push(Math.floor(c/60)%100);c%=60;0!=c&&d.push(":",B(c,2));c=d.join("")}b.ec=c;0==a?a="UTC":(c=["UTC",0>a?"+":"-"],a=Math.abs(a),c.push(Math.floor(a/60)%100),a%=60,0!=a&&c.push(":",a),a=c.join(""));b.ub=[a,a];b.Ua=[];return b}b=new td;b.ec=a.id;b.Ra=-a.std_offset;b.ub=a.names;b.Ua=a.transitions;return b}
function vd(a,b){for(var c=Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes())/36E5,d=0;d<a.Ua.length&&c>=a.Ua[d];)d+=2;return 0==d?0:a.Ua[d-1]};function wd(a){this.Ma=[];"number"==typeof a?xd(this,a):yd(this,a)}var zd=[/^\'(?:[^\']|\'\')*\'/,/^(?:G+|y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|z+|Z+)/,/^[^\'GyMkSEahKHcLQdmsvzZ]+/];function yd(a,b){for(;b;)for(var c=0;c<zd.length;++c){var d=b.match(zd[c]);if(d){d=d[0];b=b.substring(d.length);0==c&&("''"==d?d="'":(d=d.substring(1,d.length-1),d=d.replace(/\'\'/,"'")));a.Ma.push({text:d,type:c});break}}}
function Ad(a,b,c){var d=c?6E4*(b.getTimezoneOffset()-(c.Ra-vd(c,b))):0,g=d?new Date(b.getTime()+d):b,f=g;c&&g.getTimezoneOffset()!=b.getTimezoneOffset()&&(f=new Date(b.getTime()+(d+(0<d?-864E5:864E5))));for(var d=[],h=0;h<a.Ma.length;++h){var n=a.Ma[h].text;1==a.Ma[h].type?d.push(Bd(n,b,g,f,c)):d.push(n)}return d.join("")}function xd(a,b){var c;if(4>b)c=U.wb[b];else if(8>b)c=U.xb[b-4];else if(12>b)c=U.wb[b-8]+" "+U.xb[b-8];else{xd(a,10);return}yd(a,c)}
function X(a){if(U.zc===k)return a;for(var b=[],c=0;c<a.length;c++){var d=a.charCodeAt(c);b.push(48<=d&&57>=d?String.fromCharCode(U.zc+d-48):a.charAt(c))}return b.join("")}
function Bd(a,b,c,d,g){var f=a.length;switch(a.charAt(0)){case "G":return b=0<c.getFullYear()?1:0,4<=f?U.ic[b]:U.jc[b];case "y":return b=c.getFullYear(),0>b&&(b=-b),X(2==f?B(b%100,2):String(b));case "M":a:switch(b=c.getMonth(),f){case 5:f=U.nc[b];break a;case 4:f=U.mc[b];break a;case 3:f=U.pc[b];break a;default:f=X(B(b+1,f))}return f;case "k":return X(B(d.getHours()||24,f));case "S":return X((d.getTime()%1E3/1E3).toFixed(Math.min(3,f)).substr(2)+(3<f?B(0,f-3):""));case "E":return b=c.getDay(),4<=
f?U.yc[b]:U.rc[b];case "a":return f=d.getHours(),U.hc[12<=f&&24>f?1:0];case "h":return X(B(d.getHours()%12||12,f));case "K":return X(B(d.getHours()%12,f));case "H":return X(B(d.getHours(),f));case "c":a:switch(b=c.getDay(),f){case 5:f=U.uc[b];break a;case 4:f=U.xc[b];break a;case 3:f=U.wc[b];break a;default:f=X(B(b,1))}return f;case "L":a:switch(b=c.getMonth(),f){case 5:f=U.tc[b];break a;case 4:f=U.sc[b];break a;case 3:f=U.vc[b];break a;default:f=X(B(b+1,f))}return f;case "Q":return b=Math.floor(c.getMonth()/
3),4>f?U.qc[b]:U.oc[b];case "d":return X(B(c.getDate(),f));case "m":return X(B(d.getMinutes(),f));case "s":return X(B(d.getSeconds(),f));case "v":return f=g||ud(b.getTimezoneOffset()),f.ec;case "z":return a=g||ud(b.getTimezoneOffset()),4>f?a.ub[0<vd(a,b)?2:0]:a.ub[0<vd(a,b)?3:1];case "Z":return a=g||ud(b.getTimezoneOffset()),4>f?(f=-(a.Ra-vd(a,b)),b=[0>f?"-":"+"],f=Math.abs(f),b.push(B(Math.floor(f/60)%100,2),B(f%60,2)),f=b.join("")):(f=a.Ra-vd(a,b),b=["GMT"],b.push(0>=f?"+":"-"),f=Math.abs(f),b.push(B(Math.floor(f/
60)%100,2),":",B(f%60,2)),f=X(b.join(""))),f;default:return""}};function Cd(a){W.call(this,a);this.B=a.field.size.height;this.C=a.field.size.width;this.fc=a.timezone}A(Cd,W);T.ClientTime=Cd;Cd.prototype.da=function(){var a=new Yc,b=new wd(2),c=new wd(7),a=Ad(b,a,this.fc)+" "+Ad(c,a,this.fc),b=this.b;if("textContent"in b)b.textContent=a;else if(b.firstChild&&3==b.firstChild.nodeType){for(;b.lastChild!=b.firstChild;)b.removeChild(b.lastChild);b.firstChild.data=a}else yb(b),b.appendChild(zb(b).createTextNode(a));this.b=jd(this.b,this.C,this.B);dd(this)};function Dd(a){W.call(this,a);this.B=a.field.size.height;this.C=a.field.size.width;this.aa=m;this.pd=a.render_details.path;this.duration+=1}A(Dd,W);T.RemoteVideo=Dd;Dd.prototype.da=function(){this.aa=document.createElement("iframe");this.aa.src=this.pd;this.aa.yd=0;Db(this.aa,"100%","100%");Db(this.b,"100%","100%");I(this.aa,"border",0);this.b.appendChild(this.aa);dd(this)};function Ed(){this.K=[]}r=Ed.prototype;r.t=0;r.Q=0;r.$=function(a){this.K[this.Q++]=a};r.T=function(){if(this.t!=this.Q){var a=this.K[this.t];delete this.K[this.t];this.t++;return a}};r.Na=function(){return this.t==this.Q?k:this.K[this.t]};r.j=function(){return this.Q-this.t};r.p=function(){return 0==this.Q-this.t};r.clear=function(){this.Q=this.t=this.K.length=0};r.remove=function(a){a=Ba(this.K,a);if(0>a)return p;a==this.t?this.T():(C.splice.call(this.K,a,1),this.Q--);return l};
r.l=function(){return this.K.slice(this.t,this.Q)};var Fd={},Gd=m;function Hd(a){a=y(a);delete Fd[a];Pa(Fd)&&Gd&&Gd.stop()}function Id(){Gd||(Gd=new $c(function(){Jd()},20));var a=Gd;a.Ia()||a.start()}function Jd(){var a=oa();La(Fd,function(b){Kd(b,a)});Pa(Fd)||Id()};function Ld(){O.call(this);this.z=Md;this.Fb=this.startTime=m}A(Ld,V);var Md=0;Ld.prototype.W=function(){this.A("begin")};Ld.prototype.ea=function(){this.A("end")};Ld.prototype.A=function(a){this.dispatchEvent(a)};function Nd(a,b,c,d){Ld.call(this);(!v(a)||!v(b))&&e(Error("Start and end parameters must be arrays"));a.length!=b.length&&e(Error("Start and end points must be the same length"));this.ua=a;this.Mc=b;this.duration=c;this.zb=d;this.coords=[];this.Fd=p}A(Nd,Ld);r=Nd.prototype;r.Jb=0;r.r=0;r.nb=m;
r.play=function(a){if(a||this.z==Md)this.r=0,this.coords=this.ua;else if(1==this.z)return p;Hd(this);this.startTime=a=oa();-1==this.z&&(this.startTime-=this.duration*this.r);this.Fb=this.startTime+this.duration;this.nb=this.startTime;this.r||this.W();this.A("play");-1==this.z&&this.A("resume");this.z=1;var b=y(this);b in Fd||(Fd[b]=this);Id();Kd(this,a);return l};r.stop=function(a){Hd(this);this.z=Md;a&&(this.r=1);Od(this,this.r);this.A("stop");this.ea()};
r.f=function(){this.z==Md||this.stop(p);this.A("destroy");Nd.i.f.call(this)};function Kd(a,b){a.r=(b-a.startTime)/(a.Fb-a.startTime);1<=a.r&&(a.r=1);a.Jb=1E3/(b-a.nb);a.nb=b;Od(a,a.r);1==a.r?(a.z=Md,Hd(a),a.A("finish"),a.ea()):1==a.z&&a.rb()}function Od(a,b){ha(a.zb)&&(b=a.zb(b));a.coords=Array(a.ua.length);for(var c=0;c<a.ua.length;c++)a.coords[c]=(a.Mc[c]-a.ua[c])*b+a.ua[c]}r.rb=function(){this.A("animate")};r.A=function(a){this.dispatchEvent(new Pd(a,this))};
function Pd(a,b){P.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.Gd=b.coords[2];this.duration=b.duration;this.r=b.r;this.xd=b.Jb;this.state=b.z;this.vd=b}A(Pd,P);function Y(a,b,c,d,g){Nd.call(this,b,c,d,g);this.element=a}A(Y,Nd);Y.prototype.Va=da;Y.prototype.rb=function(){this.Va();Y.i.rb.call(this)};Y.prototype.ea=function(){this.Va();Y.i.ea.call(this)};Y.prototype.W=function(){this.Va();Y.i.W.call(this)};function Qd(a,b,c,d,g){ga(b)&&(b=[b]);ga(c)&&(c=[c]);Y.call(this,a,b,c,d,g);(1!=b.length||1!=c.length)&&e(Error("Start and end points must be 1D"))}A(Qd,Y);
Qd.prototype.Va=function(){var a=this.coords[0],b=this.element.style;"opacity"in b?b.opacity=a:"MozOpacity"in b?b.MozOpacity=a:"filter"in b&&(b.filter=""===a?"":"alpha(opacity="+100*a+")")};Qd.prototype.show=function(){this.element.style.display=""};function Rd(a,b,c){Qd.call(this,a,1,0,b,c)}A(Rd,Qd);Rd.prototype.W=function(){this.show();Rd.i.W.call(this)};Rd.prototype.ea=function(){this.element.style.display="none";Rd.i.ea.call(this)};function Sd(a,b,c){Qd.call(this,a,0,1,b,c)}A(Sd,Qd);
Sd.prototype.W=function(){this.show();Sd.i.W.call(this)};function Td(a,b,c){O.call(this);this.field=a;this.w=b||m;this.H=c||m}A(Td,V);r=Td.prototype;r.go=function(){this.w!=m?this.Yb():this.H!=m&&this.lb()};r.Yb=function(){this.w.dispatchEvent(hd);this.Xb()};r.Xb=function(){var a=this.w.Z;a&&a.parentNode&&a.parentNode.removeChild(a);this.w.dispatchEvent(id);this.H!=m&&this.lb()};r.lb=function(){this.H.dispatchEvent(gd);this.field.M(this.H.Z);this.Nb()};r.Nb=function(){this.H.dispatchEvent(bd)};function Ud(a,b,c){this.duration=500;Td.call(this,a,b,c)}A(Ud,Td);Ud.prototype.Yb=function(){this.w.dispatchEvent(hd);var a=new Rd(this.w.Z,this.duration);S(a,"end",this.Xb,p,this);a.play()};Ud.prototype.lb=function(){this.H.dispatchEvent(gd);this.H.Z.style.display="none";this.field.M(this.H.Z);var a=new Sd(this.H.Z,this.duration);S(a,"end",this.Nb,p,this);a.play()};function Vd(a,b,c,d,g){O.call(this);this.position=a;this.id=b;this.name=c;this.Gc=d;this.w=this.Dd=m;this.O=new Ed;this.Ac=l;this.nd=g||Ud;this.Ec=this.position.Sa.screen.Cb;this.b==m&&(a=ub("div",{id:"field_"+this.id,"class":"field"}),Db(a,"100%","100%"),this.position.M(a),this.b=a);Wd(this)}A(Vd,V);Vd.prototype.d=wc("concerto.frontend.Field");Vd.prototype.M=function(a){this.b.appendChild(a)};
function Xd(a){a.d.info("Field "+a.id+" is looking for new content.");if("Time"==a.name){var b={duration:15,id:0,name:"System Time",type:"ClientTime",render_details:{data:m},field:{size:Fb(a.position.b)}},b=new T.ClientTime(b);a.O.$(b);S(b,ed,a.dc,p,a);S(b,fd,a.Ab,p,a);ad(a.O.Na())}else a.Ec.send("field"+a.id,a.Gc,"GET","",m,1,z(function(a){a=a.target;if(!Yd(a))return this.d.log(pc,"Unable to fetch content. "+(w(a.N)?a.N:String(a.N)),k),setTimeout(z(function(){Wd(this,l)},this),10);a=Zd(a);if(!a.length)return this.d.info("No content to display here."),
setTimeout(z(function(){Wd(this,l)},this),10);Ca(a,z(function(a){a.field={size:Fb(this.position.b)};a.type in T?(a=new T[a.type](a),this.O.$(a),S(a,ed,this.dc,p,this),S(a,fd,this.Ab,p,this)):this.d.log(pc,"Unable to find "+a.type+" renderer for content "+a.id,k)},this));!this.O.p()&&ad(this.O.Na())},a))}
Vd.prototype.dc=function(){this.d.info("Field "+this.id+" is showing new content.");var a=this.O.T();a.bb($d(this.position));a.d.info("Content "+a.id+" is being rendered.");a.Z=a.b;(new this.nd(this,this.w,a)).go();this.Cd=this.w;this.w=a};
function Wd(a,b){b=b||p;a.d.info("Field "+a.id+" would like a new piece of content (error state: "+b+" ).");if(a.O.p())if(a.d.info("Field "+a.id+" needs to look for more content."),b){var c=ae;a.d.info("In error state, sleeping for "+c+" seconds.");setTimeout(z(function(){Xd(this)},a),1E3*c)}else Xd(a);else ad(a.O.Na())}Vd.prototype.Ab=function(){this.Ac?(this.d.info("Field "+this.id+" is auto-advancing."),Wd(this)):this.d.info("Field "+this.id+" is not advancing.")};var ae=10+50*Math.random();function be(a,b){this.id=m;this.Sa=a;this.b=b||this.fb()}r=be.prototype;r.d=wc("concerto.frontend.Position");r.fb=function(){var a=ub("div",{id:"position_"+this.id,"class":"position"});I(a,"position","absolute");this.Sa.M(a);return a};
r.load=function(a){this.id=a.id;this.Bc=parseFloat(a.bottom);this.Rb=parseFloat(a.left);this.ed=parseFloat(a.right);this.gc=parseFloat(a.top);this.kd=a.style;var b=this.b,c=100*this.Rb+"%",d=100*this.gc+"%",g=F&&(Xa||db)&&H("1.9");b.style.left=Eb(c,g);b.style.top=Eb(d,g);Db(this.b,100*(this.ed-this.Rb)+"%",100*(this.Bc-this.gc)+"%");this.field=new Vd(this,a.field.id,a.field.name,a.field_contents_path);this.bc()};r.M=function(a){this.b.appendChild(a)};
r.bc=function(){sb(this.b,{id:"position_"+this.id,"class":"position"});I(this.b,ce)};function $d(a){a=Lb(a.kd);a=Ma(a,function(a,b){return!(0<=Ba(de,b.toLowerCase()))});var b={};Ra(b,ee);Ra(b,a);return b}var de="overflow width height top left bottom right".split(" "),ce={overflow:"hidden"},ee={};function fe(a,b){this.screen=a;this.path=this.id=m;this.dd=[];this.b=b||this.fb()}fe.prototype.d=wc("concerto.frontend.Template");fe.prototype.fb=function(){var a=ub("div",{id:"template","class":"template"});Db(a,"100%","100%");this.screen.M(a);return a};fe.prototype.load=function(a){this.id=a.id;this.fa=a.path;sb(this.b,{id:"template_"+this.id});ge(this);a.positions!=m&&Ca(a.positions,z(function(a){var c=new be(this);c.load(a);a=this.dd;0<=Ba(a,c)||a.push(c)},this))};
function ge(a){var b=Fb(a.b),c=new Sb(a.fa),d=b.height;L(c);c.u.set("height",d);b=b.width;L(c);c.u.set("width",b);I(a.b,"background-image","url("+c.toString()+")");I(a.b,"background-size","100% 100%");I(a.b,"background-repeat","no-repeat")}fe.prototype.M=function(a){this.b.appendChild(a)};function he(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}e(Error("Invalid JSON string: "+a))};function ie(){}ie.prototype.xa=m;var je;function ke(){}A(ke,ie);function le(a){return(a=me(a))?new ActiveXObject(a):new XMLHttpRequest}function ne(a){var b={};me(a)&&(b[0]=l,b[1]=l);return b}
function me(a){if(!a.Mb&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Mb=d}catch(g){}}e(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return a.Mb}je=new ke;function oe(a){O.call(this);this.headers=new Pb;this.ja=a||m}A(oe,V);oe.prototype.d=wc("goog.net.XhrIo");var pe=/^https?$/i;r=oe.prototype;r.I=p;r.e=m;r.$a=m;r.Ja="";r.Qb="";r.ba=0;r.N="";r.ib=p;r.Ga=p;r.kb=p;r.V=p;r.R=0;r.Y=m;r.ta="";r.qd=p;r.cc=function(a){this.R=Math.max(0,a)};
r.send=function(a,b,c,d){this.e&&e(Error("[goog.net.XhrIo] Object is active with another request="+this.Ja+"; newUri="+a));b=b?b.toUpperCase():"GET";this.Ja=a;this.N="";this.ba=0;this.Qb=b;this.ib=p;this.I=l;this.e=this.ja?le(this.ja):le(je);this.$a=this.ja?this.ja.xa||(this.ja.xa=ne(this.ja)):je.xa||(je.xa=ne(je));this.e.onreadystatechange=z(this.Wb,this);try{N(this.d,Z(this,"Opening Xhr")),this.kb=l,this.e.open(b,a,l),this.kb=p}catch(g){N(this.d,Z(this,"Error opening Xhr: "+g.message));qe(this,
g);return}a=c||"";var f=this.headers.n();d&&Ob(d,function(a,b){f.set(b,a)});d=s.FormData&&a instanceof s.FormData;"POST"==b&&(!f.S("Content-Type")&&!d)&&f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");Ob(f,function(a,b){this.e.setRequestHeader(b,a)},this);this.ta&&(this.e.responseType=this.ta);"withCredentials"in this.e&&(this.e.withCredentials=this.qd);try{this.Y&&(Zc.clearTimeout(this.Y),this.Y=m),0<this.R&&(N(this.d,Z(this,"Will abort after "+this.R+"ms if incomplete")),
this.Y=Zc.setTimeout(z(this.ld,this),this.R)),N(this.d,Z(this,"Sending request")),this.Ga=l,this.e.send(a),this.Ga=p}catch(h){N(this.d,Z(this,"Send error: "+h.message)),qe(this,h)}};r.ld=function(){"undefined"!=typeof ba&&this.e&&(this.N="Timed out after "+this.R+"ms, aborting",this.ba=8,N(this.d,Z(this,this.N)),this.dispatchEvent("timeout"),this.abort(8))};function qe(a,b){a.I=p;a.e&&(a.V=l,a.e.abort(),a.V=p);a.N=b;a.ba=5;re(a);se(a)}
function re(a){a.ib||(a.ib=l,a.dispatchEvent("complete"),a.dispatchEvent("error"))}r.abort=function(a){this.e&&this.I&&(N(this.d,Z(this,"Aborting")),this.I=p,this.V=l,this.e.abort(),this.V=p,this.ba=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),se(this))};r.f=function(){this.e&&(this.I&&(this.I=p,this.V=l,this.e.abort(),this.V=p),se(this,l));oe.i.f.call(this)};r.Wb=function(){!this.kb&&!this.Ga&&!this.V?this.bd():te(this)};r.bd=function(){te(this)};
function te(a){if(a.I&&"undefined"!=typeof ba)if(a.$a[1]&&4==ue(a)&&2==ve(a))N(a.d,Z(a,"Local request error detected and ignored"));else if(a.Ga&&4==ue(a))Zc.setTimeout(z(a.Wb,a),0);else if(a.dispatchEvent("readystatechange"),4==ue(a)){N(a.d,Z(a,"Request complete"));a.I=p;try{if(Yd(a))a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.ba=6;var b;try{b=2<ue(a)?a.e.statusText:""}catch(c){N(a.d,"Can not get status: "+c.message),b=""}a.N=b+" ["+ve(a)+"]";re(a)}}finally{se(a)}}}
function se(a,b){if(a.e){var c=a.e,d=a.$a[0]?da:m;a.e=m;a.$a=m;a.Y&&(Zc.clearTimeout(a.Y),a.Y=m);b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(g){a.d.log(oc,"Problem encountered resetting onreadystatechange: "+g.message,k)}}}r.Ia=function(){return!!this.e};
function Yd(a){var b=ve(a),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=l;break a;default:c=p}if(!c){if(b=0===b)a=String(a.Ja).match(Mb)[1]||m,!a&&self.location&&(a=self.location.protocol,a=a.substr(0,a.length-1)),b=!pe.test(a?a.toLowerCase():"");c=b}return c}function ue(a){return a.e?a.e.readyState:0}function ve(a){try{return 2<ue(a)?a.e.status:-1}catch(b){return a.d.log(pc,"Can not get status: "+b.message,k),-1}}
function Zd(a){if(a.e)return he(a.e.responseText)}function Z(a,b){return b+" ["+a.Qb+" "+a.Ja+" "+ve(a)+"]"};function we(a,b){O.call(this);this.Sb=a||0;this.La=b||10;this.Sb>this.La&&e(Error(xe));this.D=new Ed;this.G=new ec;this.hb=0;this.mb=m;this.va()}A(we,O);var xe="[goog.structs.Pool] Min can not be greater than max";r=we.prototype;r.Da=function(){var a=oa();if(!(this.mb!=m&&a-this.mb<this.hb)){for(var b;0<this.D.j()&&!(b=this.D.T(),this.qb(b));)this.va();!b&&this.j()<this.La&&(b=this.gb());b&&(this.mb=a,this.G.add(b));return b}};
r.ka=function(a){this.G.remove(a);this.qb(a)&&this.j()<this.La?this.D.$(a):ye(a)};r.va=function(){for(var a=this.D;this.j()<this.Sb;)a.$(this.gb());for(;this.j()>this.La&&0<this.D.j();)ye(a.T())};r.gb=function(){return{}};function ye(a){if("function"==typeof a.J)a.J();else for(var b in a)a[b]=m}r.qb=function(a){return"function"==typeof a.Dc?a.Dc():l};r.j=function(){return this.D.j()+this.G.j()};r.p=function(){return this.D.p()&&this.G.p()};
r.f=function(){we.i.f.call(this);0<this.G.j()&&e(Error("[goog.structs.Pool] Objects not released"));delete this.G;for(var a=this.D;!a.p();)ye(a.T());delete this.D};function ze(a,b){this.Pb=a;this.Xa=b}ze.prototype.getKey=aa("Pb");ze.prototype.n=function(){return new ze(this.Pb,this.Xa)};function Ae(a){this.q=[];if(a)a:{var b,c;if(a instanceof Ae){if(b=a.L(),c=a.l(),0>=a.j()){a=this.q;for(var d=0;d<b.length;d++)a.push(new ze(b[d],c[d]));break a}}else b=Oa(a),c=Na(a);for(d=0;d<b.length;d++)Be(this,b[d],c[d])}}function Be(a,b,c){var d=a.q;d.push(new ze(b,c));b=d.length-1;a=a.q;for(c=a[b];0<b;)if(d=b-1>>1,a[d].getKey()>c.getKey())a[b]=a[d],b=d;else break;a[b]=c}r=Ae.prototype;
r.remove=function(){var a=this.q,b=a.length,c=a[0];if(!(0>=b)){if(1==b)Fa(a);else{a[0]=a.pop();for(var a=0,b=this.q,d=b.length,g=b[a];a<d>>1;){var f=2*a+1,h=2*a+2,f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>g.getKey())break;b[a]=b[f];a=f}b[a]=g}return c.Xa}};r.Na=function(){var a=this.q;return 0==a.length?k:a[0].Xa};r.l=function(){for(var a=this.q,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].Xa);return b};r.L=function(){for(var a=this.q,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};
r.S=function(a){return Ea(this.q,function(b){return b.getKey()==a})};r.n=function(){return new Ae(this)};r.j=function(){return this.q.length};r.p=function(){return 0==this.q.length};r.clear=function(){Fa(this.q)};function Ce(){Ae.call(this)}A(Ce,Ae);Ce.prototype.$=function(a,b){Be(this,a,b)};Ce.prototype.T=function(){return this.remove()};function $(a,b){this.Pa=new Ce;we.call(this,a,b)}A($,we);r=$.prototype;r.Da=function(a,b){if(!a){var c=$.i.Da.call(this);c&&this.hb&&(this.Jc=s.setTimeout(z(this.Ea,this),this.hb));return c}this.Pa.$(t(b)?b:100,a);this.Ea()};r.Ea=function(){for(var a=this.Pa;0<a.j();){var b=this.Da();if(b)a.T().apply(this,[b]);else break}};r.ka=function(a){$.i.ka.call(this,a);this.Ea()};r.va=function(){$.i.va.call(this);this.Ea()};r.f=function(){$.i.f.call(this);s.clearTimeout(this.Jc);this.Pa.clear();this.Pa=m};function De(a,b,c){$.call(this,b,c);this.jb=a}A(De,$);De.prototype.gb=function(){var a=new oe,b=this.jb;b&&Ob(b,function(b,d){a.headers.set(d,b)});return a};De.prototype.qb=function(a){return!a.la&&!a.Ia()};function Ee(a,b,c,d,g){this.sa=t(a)?a:1;this.R=t(g)?Math.max(0,g):0;this.ia=new De(b,c,d);this.v=new Pb;this.na=new md(this)}A(Ee,V);var Fe="ready complete success error abort timeout".split(" ");r=Ee.prototype;r.cc=function(a){this.R=Math.max(0,a)};r.send=function(a,b,c,d,g,f,h,n,u){this.v.get(a)&&e(Error("[goog.net.XhrManager] ID in use"));b=new Ge(b,z(this.Rc,this,a),c,d,g,h,t(n)?n:this.sa,u);this.v.set(a,b);a=z(this.Qc,this,a);this.ia.Da(a,f);return b};
r.abort=function(a,b){var c=this.v.get(a);if(c){var d=c.Za;c.yb=l;b&&(d&&(pd(this.na,d,Fe,c.Ya),Mc(d,"ready",function(){var a=this.ia;a.G.remove(d)&&a.ka(d)},p,this)),this.v.remove(a));d&&d.abort()}};r.Qc=function(a,b){var c=this.v.get(a);c&&!c.Za?(od(this.na,b,Fe,c.Ya),b.cc(this.R),b.ta=c.ta,c.Za=c.rd=b,this.dispatchEvent(new He("ready",this,a,b)),Ie(this,a,b),c.yb&&b.abort()):(c=this.ia,c.G.remove(b)&&c.ka(b))};
r.Rc=function(a,b){var c=b.target;switch(b.type){case "ready":Ie(this,a,c);break;case "complete":a:{var d=this.v.get(a);if(7==c.ba||Yd(c)||d.wa>d.sa)if(this.dispatchEvent(new He("complete",this,a,c)),d&&(d.Bb=l,d.eb)){c=d.eb.call(c,b);break a}c=m}return c;case "success":this.dispatchEvent(new He("success",this,a,c));break;case "timeout":case "error":d=this.v.get(a);d.wa>d.sa&&this.dispatchEvent(new He("error",this,a,c));break;case "abort":this.dispatchEvent(new He("abort",this,a,c))}return m};
function Ie(a,b,c){var d=a.v.get(b);d&&!d.Bb&&!(d.wa>d.sa)?(d.wa++,c.send(d.od,d.Xc,d.Fc,d.jb)):(d&&(pd(a.na,c,Fe,d.Ya),a.v.remove(b)),a=a.ia,a.G.remove(c)&&a.ka(c))}r.f=function(){Ee.i.f.call(this);this.ia.J();this.ia=m;this.na.J();this.na=m;var a=this.v;Ob(a,function(a){a.J()});a.clear();this.v=m};function He(a,b,c,d){P.call(this,a,b);this.id=c;this.rd=this.Za=d}A(He,P);He.prototype.f=function(){};
function Ge(a,b,c,d,g,f,h,n){O.call(this);this.od=a;this.Xc=c||"GET";this.Fc=d;this.jb=g||m;this.sa=t(h)?h:1;this.wa=0;this.yb=this.Bb=p;this.Ya=b;this.eb=f;this.ta=n||"";this.Za=m}A(Ge,O);Ge.prototype.f=function(){Ge.i.f.call(this);delete this.Ya;delete this.eb};function Je(a,b){this.Cb=new Ee(2,m,0,2);this.id=a;this.name="New Screen";this.Db=b||document.body;Ke(this)}var Le=["concerto","frontend","Screen"],Me=s;!(Le[0]in Me)&&Me.execScript&&Me.execScript("var "+Le[0]);for(var Ne;Le.length&&(Ne=Le.shift());)!Le.length&&t(Je)?Me[Ne]=Je:Me=Me[Ne]?Me[Ne]:Me[Ne]={};Je.prototype.d=wc("concerto.frontend.Screen");
function Ke(a){var b=ub("div",{id:"screen_"+a.id,"class":"screen"});Db(b,"100%","100%");I(b,"position","relative");yb(a.Db);a.Db.appendChild(b);a.b=b;b=["../../frontend/",a.id,"/setup.json"].join("");a.d.info("Requesting screen config from "+b);a.Cb.send("setup",b,"GET","",m,1,z(function(a){a=Zd(a.target);this.name=a.name;a.template!=m&&(this.Sa=new fe(this),this.Sa.load(a.template))},a))}Je.prototype.M=function(a){this.b.appendChild(a)};
