<%= render :partial => 'dashboard/admin_stats' %>

<section class="viewblock">
  <header class="viewblock-header">
    <h1 class="default-padding">
      <%= t :new_model, :model => ConcertoPlugin.model_name.human %>
    </h1>
  </header>
  <div class="viewblock-cont" style="min-height: 600px;">
    <%= render :partial => 'plugins_navigation' %>
    <%= form_for(@concerto_plugin) do |f| %>
      <% if @concerto_plugin.errors.any? %>
        <div id="error_explanation">
	  <h2><%= pluralize(@concerto_plugin.errors.count, t(:error)) %> <%= t(:prohibited_save, :model => ConcertoPlugin.model_name.human) %></h2>
          <ul>
          <% @concerto_plugin.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
          </ul>
        </div>
      <% end %>
    
      <fieldset>       
        <div class="clearfix">
          <%= f.label :source %>
          <div class="input">
	    <%= f.select(:source, [[t('.source_rubygems'), 'rubygems'], [t('.source_git_repo'), 'git'], [t('.source_filesystem_path'), 'path']]) %>
          </div>
        </div>
        
        <div class="clearfix">
          <%= f.label :gem_name %>
          <div class="input">
            <%= f.text_field :gem_name, :autofocus => true %>
          </div>
        </div>    
    
        GIT URL (https://foo.bar/baz.git) or Filesystem Path (/x/y/file.gem)
        HIDE this if Rubygems is selected
        <div class="clearfix">
          <%= f.label :source_url %>
          <div class="input">
            <%= f.text_field :source_url %>
          </div>
        </div>
    
      </fieldset>
    
      <div class="submit_bar actions">
        <%= f.submit t(:create_model, :model => ConcertoPlugin.model_name.human), :class => "btn primary" %> <%= link_to_function t(:cancel), "history.back()", :class => "btn" %>
      </div>
    <% end %>
   
  </div>
</section>
